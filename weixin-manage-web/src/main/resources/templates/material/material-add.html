<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title" id="myModalLabel">添加素材</h4>
</div>
<div class="modal-body">
    <form role="form" id="material-add-form" enctype="multipart/form-data">
        <div class="form-group">
            <label for="urlType">素材类型</label>
            <select class="form-control" id="urlType" name="urlType">
                <option value=""></option>
                <option value="tmp">临时文件</option>
                <option value="imageEver">永久图片</option>
                <option value="newsEver">永久图文</option>
                <option value="othersEver">其他永久</option>
            </select>
        </div>
        <div class="form-group">
            <label for="type">文件类型</label>
            <select class="form-control" id="type" name="type">
                <option value=""></option>
                <option value="image">图片</option>
                <option value="voice">语音</option>
                <option value="video">视频</option>
                <option value="thumb">缩略图</option>
            </select>
        </div>
        <div class="form-group">
            <label for="inputfile">文件输入</label>
            <input type="file" id="inputfile" name="media"/>
        </div>
        <button type="submit" id="material-add-submit" class="btn btn-default">提交</button>
    </form>

    <script type="text/javascript" src="/js/jquery.form.min.js"></script>
    <script>

//        $('#material-add-submit').on('click',  function () {


            $('#material-add-form').submit(function() {
                var options = {
                    // 规定把请求发送到那个URL
//                url: "https://api.weixin.qq.com/cgi-bin/media/uploadimg",
                    url: "material/material-add",
                    // 请求方式
                    type: "post", //必须用post
                    // 请求成功时执行的回调函数
                    success: function(data) {
                        // 图片显示地址
                        alert(JSON.stringify(data));
                    }
                };
                $("#material-add-form").ajaxSubmit(options);
                $("#material-add-form").resetForm();
                return false
            })

//        })
    </script>

</div>